<!DOCTYPE html>
<html >
<head>
    <title>Filters - Dactyl: A Heroic Doc Tool</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width">

    <!-- Blocking JS resources -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Stylesheet -->
    <link href="template_assets/dactyl.css" rel="stylesheet" />



</head>

<body class="sidebar-both  " data-spy="scroll" data-target="#page-toc-wrapper" data-offset="0">
<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-white px-2">
  <a href="/" class="navbar-brand"><h1>Dactyl: A Heroic Doc Tool</h1></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHolder" aria-controls="navbarHolder" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse justify-content-end" id="navbarHolder">
    <ul class="nav navbar-nav">
          <li class="nav-item ">
            <a class="nav-link" href="usage.html">Usage</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="features.html">Features</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="filters.html">Filters</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="extending-index.html">Extending Dactyl</a>
          </li>
    </ul><!-- /.navbar-nav -->



  </div><!--/#navbarHolder-->
</nav>
  <div class="container-fluid" role="document" id="main_content_wrapper">
    <div class="row">
      <!-- Right sidebar first so it's at the beginning for mobile layouts -->
      <aside class="right-sidebar col-lg-3 order-lg-4" role="complementary">
      </aside>

      <!-- main column -->
      <main class="main col-md-7 col-lg-6 order-md-3  " role="main" id="main_content_body">
<nav class="breadcrumbs-wrap p-0 p-md-3" aria-label="breadcrumb">
  <ul class="breadcrumb">
    

    <li class="active breadcrumb-item"><a href="index.html">Index</a></li>
    <li class="active breadcrumb-item">Filters</li>
  </ul>
</nav><!--/.breadcrumbs-wrap-->
  <section class="pt-3 p-md-3">
    <article class="dactyl-content">
      <h1 id="filters">Filters<a aria-hidden="true" class="hover_anchor" href="#filters">Â¶</a></h1>
<p>Dactyl supports additional custom post-processing through the use of <strong>filters</strong> which are essentially custom plugins. Filters can operate on the markdown (after it's been pre-processed), on the raw HTML (after it's been parsed), or on a BeautifulSoup object representing the output HTML. Filters can also export functions and values that are available to the preprocessor.</p>
<p>Dactyl comes with several filters, which you can enable in your config file. You can also write your own filters. If you do, you must specify the paths to the folder(s) containing your filter files in the <code>filter_paths</code> array of the config file.</p>
<p>To enable a filter for a target or page, set the <code>filters</code> field of the config to be an array of filter names, where the filter names are derived from the Python source files in the format <code>filter_&lt;filtername&gt;.py</code>. Filter names must be valid Python variable names, so they can't start with a numeral and must contain only alphanumeric and underscore characters.</p>
<p>Dactyl automatically runs the following functions from filter files (skipping any that aren't defined):</p>
<ol>
<li>Before running the preprocessor on a page, Dactyl adds all items from each filter's <code>export</code> global dictionary to the preprocessor environment.</li>
<li>Dactyl runs the <code>filter_markdown(md, **kwargs)</code> function of each filter after the preprocessor. This function receives the preprocessed markdown as a string in the <code>md</code> argument and must return a string with the markdown as filtered.</li>
<li>Dactyl runs the <code>filter_html(html, **kwargs)</code> function after the markdown processor. This function receives the parsed markdown content as an HTML string in the <code>html</code> argument and must return a string with the HTML as filtered.</li>
<li>Dactyl runs the <code>filter_soup(soup, **kwargs)</code> function after the HTML filters. This function is expected to directly modify the <code>soup</code> argument, which contains a <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoup 4 object</a> representing the HTML contents.</li>
</ol>
<p>The keyword arguments (<code>**kwargs</code>) for the functions may change in future versions. As of Dactyl 0.5.0, the arguments are as follows:</p>
<table>
<thead>
<tr>
<th align="left">Field</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>currentpage</code></td>
<td align="left">Dict</td>
<td align="left">The current page, as defined in the config file plus values inherited from the current target and any processing or calculations. (For example, Dactyl automatically adds a <code>name</code> field if one isn't present.)</td>
</tr>
<tr>
<td align="left"><code>categories</code></td>
<td align="left">List</td>
<td align="left">A de-duplicated, ordered list of <code>category</code> fields present among pages in this target.</td>
</tr>
<tr>
<td align="left"><code>pages</code></td>
<td align="left">List</td>
<td align="left">A list of page objects for all pages in the current target, in the same order they appear in the config file.</td>
</tr>
<tr>
<td align="left"><code>target</code></td>
<td align="left">Dict</td>
<td align="left">The current target definition, as derived from the config file.</td>
</tr>
<tr>
<td align="left"><code>current_time</code></td>
<td align="left">String</td>
<td align="left">The time this build was started. The format is defined by your config's global <code>time_format</code> field (in <a href="http://strftime.org/">stftime format</a>), defaulting to YYYY-MM-DD.</td>
</tr>
<tr>
<td align="left"><code>mode</code></td>
<td align="left">String</td>
<td align="left">Either <code>html</code>, <code>pdf</code>, or <code>md</code> depending on what output Dactyl is building.</td>
</tr>
<tr>
<td align="left"><code>config</code></td>
<td align="left">Dict</td>
<td align="left">The global config object, based on the config file plus any commandline switches.</td>
</tr>
<tr>
<td align="left"><code>logger</code></td>
<td align="left"><a href="https://docs.python.org/3/library/logging.html#logger-objects">Logger</a></td>
<td align="left">The logging object Dactyl uses, with the verbosity set to match user input.</td>
</tr>
</tbody>
</table>

      <h2>Read More</h2>



<div class="children-display">
  <ul>
          <li class="level-1"><a href="callouts.html">Callouts Demonstration</a></li>
      <li class="level-1"><a href="xrefs.html">Intelligent Cross-References</a></li>
      <li class="level-1"><a href="buttonize.html">Buttonize Filter</a></li>
      <li class="level-1"><a href="badges.html">Badges</a></li>
      <li class="level-1"><a href="multicode_tabs.html">Multi Code-Tabs Filter</a></li>
      <li class="level-1"><a href="external_links.html">External Links</a></li>

  </ul>
</div>    </article>
  </section>

      </main>
      <!-- Left sidebar last so it's at the end for mobile -->
      <aside class="sidebar col-md-5 col-lg-3 order-md-1" role="complementary">


<nav class="nav flex-column dactyl-tree-nav">
  <div class="nav-item nav-parent">
    <a class="nav-link" href="index.html">Index</a>
  </div>
    
  <div class="nav-item ">


      <a class="nav-toggler collapsed" role="button" data-toggle="collapse" href="#tree_nav_group_1" aria-expanded="false" aria-controls="tree_nav_group_1"></a>
    <a class="nav-link" href="usage.html">Usage</a>

    <nav class="nav flex-column collapse" id="tree_nav_group_1">
      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="config.html">Configuration</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="link-checking.html">Link Checking</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="style-checking.html">Style Checking</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="elasticsearch.html">ElasticSearch Compatibility</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="openapi.html">OpenAPI Specifications</a>
  </div>

    </nav>

  </div>

    
  <div class="nav-item ">


      <a class="nav-toggler collapsed" role="button" data-toggle="collapse" href="#tree_nav_group_2" aria-expanded="false" aria-controls="tree_nav_group_2"></a>
    <a class="nav-link" href="features.html">Features</a>

    <nav class="nav flex-column collapse" id="tree_nav_group_2">
      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="code-highlighting.html">Code Highlighting</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="includes.html">Includes</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="frontmatter.html">Frontmatter</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="cli-vars.html">Commandline Variables</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="conditionals.html">Conditionals</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="lists-and-codeblocks.html">Lists and Code Blocks Demo</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="gfm-compat.html">GitHub Markdown Compatibility</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="header_stress_test.html">Header Stress Test</a>
  </div>

      
  <div class="nav-item ">


      <a class="nav-toggler collapsed" role="button" data-toggle="collapse" href="#tree_nav_group_2_9" aria-expanded="false" aria-controls="tree_nav_group_2_9"></a>
    <a class="nav-link" href="virtual-pages.html">Virtual Pages</a>

    <nav class="nav flex-column collapse" id="tree_nav_group_2_9">
      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="https://dactyl.link/#">Dactyl Homepage</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="https://dactyl.link/">Virtual Placeholder</a>
  </div>

    </nav>

  </div>

    </nav>

  </div>

    
  <div class="nav-item active">


      <a class="nav-toggler " role="button" data-toggle="collapse" href="#tree_nav_group_3" aria-expanded="true" aria-controls="tree_nav_group_3"></a>
    <a class="nav-link" href="filters.html">Filters</a>

    <nav class="nav flex-column show " id="tree_nav_group_3">
      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="callouts.html">Callouts Demonstration</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="xrefs.html">Intelligent Cross-References</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="buttonize.html">Buttonize Filter</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="badges.html">Badges</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="multicode_tabs.html">Multi Code-Tabs Filter</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="external_links.html">External Links</a>
  </div>

    </nav>

  </div>

    
  <div class="nav-item ">


      <a class="nav-toggler collapsed" role="button" data-toggle="collapse" href="#tree_nav_group_4" aria-expanded="false" aria-controls="tree_nav_group_4"></a>
    <a class="nav-link" href="extending-index.html">Extending Dactyl</a>

    <nav class="nav flex-column collapse" id="tree_nav_group_4">
      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="templates.html">Templates</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="hierarchy.html">Hierarchy Demo</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="filter-examples-patriots.html">Custom Filter</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="filter-examples-patriots2.html">Custom Filter 2</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="include_code.html">Code Includer</a>
  </div>

      
  <div class="nav-item ">
    <a class="nav-link nav-leaf" href="debug.html">Debug</a>
  </div>

    </nav>

  </div>

</nav>      </aside>
    </div><!--/.row (main layout)-->
  </div>

<footer class="dactyl-footer px-2" role="contentinfo">

  <section class="container-fluid p-5 pl-sm-0">


    <div class="absolute_bottom_footer">
    </div><!-- /.absolute_bottom_footer -->

  </section>
</footer>

<!-- Jump to top button -->
<a href="#main_content_wrapper" class="jump-to-top btn btn-primary btn-lg" role="button" title="Return to top of page">Top</a>
<!-- Non-blocking resources -->
<!-- Bootstrap JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<!-- Dactyl JS -->
<script src="https://dactyl.link/template_assets/dactyl.js"></script>
<!-- fontawesome icons -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />

</body>
</html>